var e = getApp(), t = require("../../utils/util.js"), n = require("../../nitro.js"); Page({ data: { isIpx: e.globalData.isIpx, loaded: !1 }, onLoad: function (o) { var i = this, a = o.order_id; wx.showLoading({ title: "" }), e.getRequest(e.globalData.BASE_URL + "/orders/" + a).then(function (o) { console.info("order", o), console.info("stores", e.globalData.stores, { id: o.store_id }); var a = n.getStores().find(function (e) { return e.id === o.store_id }); o.ticket.inventory && (o.ticket.inventory.sku_label = t.skuLabel(o.ticket.inventory.sku)), i.setData({ loaded: !0, order: o, store: a, prepay_action: "created" === o.state && "unpaid" === o.payment_state }), wx.hideLoading() }) }, onReady: function () { }, onShow: function () { }, onHide: function () { }, onUnload: function () { }, onPullDownRefresh: function () { }, onReachBottom: function () { }, onShareAppMessage: function () { }, openAgreement: function () { wx.navigateTo({ url: "/pages/agreement/agreement", success: function (e) { }, fail: function (e) { }, complete: function (e) { } }) }, onSubmit: function () { this.onCreateOrder() }, onPayOrder: function (e) { var t = this.data.order._id; n.payOrder(t) } }); 